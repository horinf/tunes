"use strict";(self.webpackChunktunes=self.webpackChunktunes||[]).push([[939],{939:(Q,p,r)=>{r.r(p),r.d(p,{HomePageModule:()=>S});var a=r(6019),m=r(3009);function f(e,o,t,i,c,s,l){try{var d=e[s](l),u=d.value}catch(I){return void t(I)}d.done?o(u):Promise.resolve(u).then(i,c)}function x(e){return function(){var o=this,t=arguments;return new Promise(function(i,c){var s=e.apply(o,t);function l(u){f(s,i,c,l,d,"next",u)}function d(u){f(s,i,c,l,d,"throw",u)}l(void 0)})}}var g=r(4499),h=r(7908),n=r(1514),v=r(2730),C=r(7803);function T(e,o){1&e&&(n.TgZ(0,"div",2),n.TgZ(1,"div",3),n.TgZ(2,"span",4),n._uU(3,"Loading...."),n.qZA(),n.qZA(),n.qZA())}function Z(e,o){if(1&e&&(n.TgZ(0,"div"),n._UZ(1,"span",5),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("innerHTML",t.error,n.oJD)}}let y=(()=>{class e{constructor(){this.isLoading=!1,this.error=null}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-loading-state"]],inputs:{isLoading:"isLoading",error:"error"},decls:3,vars:2,consts:[["style","text-align: center; opacity: 0.15;",4,"ngIf"],[4,"ngIf"],[2,"text-align","center","opacity","0.15"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"],[3,"innerHTML"]],template:function(t,i){1&t&&(n.TgZ(0,"div"),n.YNc(1,T,4,0,"div",0),n.YNc(2,Z,2,1,"div",1),n.qZA()),2&t&&(n.xp6(1),n.Q6J("ngIf",i.isLoading),n.xp6(1),n.Q6J("ngIf",!i.isLoading&&i.error))},directives:[a.O5],styles:[""]}),e})();function _(e,o){if(1&e&&n._UZ(0,"img",11),2&e){const t=n.oxw(2);n.Q6J("src",t.tune.imageUrl,n.LSH)}}function w(e,o){if(1&e&&(n.TgZ(0,"div",12),n.TgZ(1,"a",13),n._uU(2,"play"),n.qZA(),n.qZA()),2&e){const t=n.oxw(2);n.xp6(1),n.Q6J("href",t.tune.link,n.LSH)}}function L(e,o){if(1&e&&(n.TgZ(0,"div",1),n.TgZ(1,"div",2),n.TgZ(2,"div",3),n.YNc(3,_,1,1,"img",4),n.qZA(),n.TgZ(4,"div",5),n.TgZ(5,"div",6),n._UZ(6,"span",7),n.qZA(),n.TgZ(7,"div",8),n._UZ(8,"span",7),n.qZA(),n.qZA(),n.qZA(),n.TgZ(9,"div",9),n._UZ(10,"span",7),n.qZA(),n.YNc(11,w,3,1,"div",10),n.qZA()),2&e){const t=n.oxw();n.xp6(3),n.Q6J("ngIf",t.tune.imageUrl),n.xp6(3),n.Q6J("innerHtml",t.tune.category,n.oJD),n.xp6(2),n.Q6J("innerHtml",t.tune.artist,n.oJD),n.xp6(2),n.Q6J("innerHtml",t.tune.title,n.oJD),n.xp6(1),n.Q6J("ngIf",t.tune.link)}}let b=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-tune-card"]],inputs:{tune:"tune"},decls:1,vars:1,consts:[["class","tune-item d-flex flex-column",4,"ngIf"],[1,"tune-item","d-flex","flex-column"],[1,"d-flex"],[1,"tune-img-container"],["class","tune-img",3,"src",4,"ngIf"],[1,"pl-2","flex-grow-1"],[1,"category-conteiner"],[3,"innerHtml"],[1,"artist-container"],[1,"pt-2"],["class","link-container back-gradient",4,"ngIf"],[1,"tune-img",3,"src"],[1,"link-container","back-gradient"],["target","_blank",3,"href"]],template:function(t,i){1&t&&n.YNc(0,L,12,5,"div",0),2&t&&n.Q6J("ngIf",i.tune)},directives:[a.O5],styles:[".tune-item[_ngcontent-%COMP%]{width:100%;border-bottom:1px solid rgba(128,128,128,.4);margin:10px 0 15px;padding:10px 10px 25px;position:relative;background-color:#fafafa}.tune-img-container[_ngcontent-%COMP%]{width:80px;min-width:80px}.tune-img[_ngcontent-%COMP%]{width:100%;max-height:100px}.category-conteiner[_ngcontent-%COMP%]{font-size:14px;text-align:right;font-weight:bold}.artist-container[_ngcontent-%COMP%]{font-size:14px;text-align:right}.link-container[_ngcontent-%COMP%]{font-size:14px;text-align:right;font-style:italic;padding:20px 20px 8px 8px;position:absolute;bottom:0px;left:0px;right:0px}.back-gradient[_ngcontent-%COMP%]{background:linear-gradient(180deg,rgba(255,255,255,0) 0%,#ffffff 100%)}@media (min-width: 690px){.tune-item[_ngcontent-%COMP%]{width:300px;height:190px;overflow-y:hidden;margin:0 10px 20px;border:1px solid rgba(128,128,128,.4);border-radius:5px;padding:10px;transition:all .3s ease-out 0s}.tune-item[_ngcontent-%COMP%]:hover{background-color:#eeeaea;min-height:190px;height:auto;padding-bottom:40px}.back-gradient[_ngcontent-%COMP%]{background:linear-gradient(180deg,rgba(255,255,255,0) 0%,#f5f5f5 100%)}}"]}),e})();function M(e,o){1&e&&n._UZ(0,"app-tune-card",5),2&e&&n.Q6J("tune",o.$implicit)}function P(e,o){if(1&e&&(n.TgZ(0,"div",3),n.YNc(1,M,1,1,"app-tune-card",4),n.ALo(2,"async"),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("ngForOf",n.lcZ(2,1,t.tunes))}}const A=[{path:"",component:(()=>{class e{constructor(t,i){this.itunesClient=t,this.tuneSearchService=i,this.isLoading$=new g.X(!0),this.error$=new g.X(null),this.tunes=new g.X(null),this.unsubscriber=new h.w0}ngOnInit(){var t=this;return x(function*(){t.loadItunes(),t.unsubscriber.add(t.tuneSearchService.searchString$.subscribe(i=>{t.search(i)}))})()}ngOnDestroy(){this.unsubscriber&&this.unsubscriber.unsubscribe()}loadItunes(){var t=this;return x(function*(){t.isLoading$.next(!0),t.error$.next(null);try{const i=yield t.itunesClient.getTunes();i&&(t.allTunes=i.tunes,t.tunes.next(i.tunes))}catch(i){t.error$.next("An error occured while loading your tunes (")}finally{t.isLoading$.next(!1)}})()}search(t){if(!this.allTunes)return;if(!t)return void this.tunes.next(this.allTunes);const i=t.toLowerCase(),c=this.allTunes.filter(s=>s.title.toLowerCase().indexOf(i)>=0||s.artist.toLowerCase().indexOf(i)>=0);this.tunes.next(c)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(v.a),n.Y36(C.H))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-home-page"]],decls:6,vars:9,consts:[[1,"container"],[3,"isLoading","error"],["class","d-flex flex-column flex-md-row flex-md-wrap pt-4",4,"ngIf"],[1,"d-flex","flex-column","flex-md-row","flex-md-wrap","pt-4"],[3,"tune",4,"ngFor","ngForOf"],[3,"tune"]],template:function(t,i){1&t&&(n.TgZ(0,"div",0),n._UZ(1,"app-loading-state",1),n.ALo(2,"async"),n.ALo(3,"async"),n.YNc(4,P,3,3,"div",2),n.ALo(5,"async"),n.qZA()),2&t&&(n.xp6(1),n.Q6J("isLoading",n.lcZ(2,3,i.isLoading$))("error",n.lcZ(3,5,i.error$)),n.xp6(3),n.Q6J("ngIf",n.lcZ(5,7,i.tunes)))},directives:[y,a.O5,a.sg,b],pipes:[a.Ov],styles:[""]}),e})(),pathMatch:"full"}];let H=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[m.Bz.forChild(A)],m.Bz]}),e})(),J=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[a.ez]]}),e})(),O=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[a.ez]]}),e})(),S=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[a.ez,H,O,J]]}),e})()}}]);